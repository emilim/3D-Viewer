<html>
<head>
    <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>
    <script type="importmap">
        { "imports": { "avansel": "https://unpkg.com/avansel@0.0.12/build/avansel.js" } }
    </script>
    <style>
        html, body, #pano {
            width: 100vw; 
            height: 100vh; 
            margin: 0px; 
            padding: 0px;
            overflow: hidden;
        }
    </style>
    <!-- add icon -->
    <link rel="icon" href="https://avatars.githubusercontent.com/u/59371284?v=4" type="image/x-icon" />
</head>

<body>
    <div id="pano"></div>
    <script type="module">
        import { Avansel } from "avansel";

        const container = document.querySelector('#pano')

        const params = [
            { tileSize: 374, size: 374, fallback: true },
            { tileSize: 512, size: 749 },
            { tileSize: 512, size: 1498 },
            { tileSize: 512, size: 2996 },
            { tileSize: 512, size: 5992 },
        ]
        
        new Avansel(container)
            .multires(params, () => (s, l, x, y) => {
                l = parseInt(l) + 1
                return `output/${l}/${s}${y}_${x}.jpg`
            }).start()
    </script>
</body>
</html>